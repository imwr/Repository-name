"use strict";function SVG(){return this.width=100,this.height=100,this.svg=XMLNode("svg"),this.context=[],this.setAttributes(this.svg,{xmlns:"http://www.w3.org/2000/svg",width:this.width,height:this.height}),this}var extend=require("extend"),XMLNode=require("./xml");module.exports=SVG,SVG.prototype.currentContext=function(){return this.context[this.context.length-1]||this.svg},SVG.prototype.end=function(){return this.context.pop(),this},SVG.prototype.currentNode=function(){var t=this.currentContext();return t.lastChild||t},SVG.prototype.transform=function(t){return this.currentNode().setAttribute("transform",Object.keys(t).map(function(e){return e+"("+t[e].join(",")+")"}).join(" ")),this},SVG.prototype.setAttributes=function(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})},SVG.prototype.setWidth=function(t){this.svg.setAttribute("width",Math.floor(t))},SVG.prototype.setHeight=function(t){this.svg.setAttribute("height",Math.floor(t))},SVG.prototype.toString=function(){return this.svg.toString()},SVG.prototype.rect=function(t,e,r,i,n){var o=this;if(Array.isArray(t))return t.forEach(function(t){o.rect.apply(o,t.concat(n))}),this;var s=XMLNode("rect");return this.currentContext().appendChild(s),this.setAttributes(s,extend({x:t,y:e,width:r,height:i},n)),this},SVG.prototype.circle=function(t,e,r,i){var n=XMLNode("circle");return this.currentContext().appendChild(n),this.setAttributes(n,extend({cx:t,cy:e,r:r},i)),this},SVG.prototype.path=function(t,e){var r=XMLNode("path");return this.currentContext().appendChild(r),this.setAttributes(r,extend({d:t},e)),this},SVG.prototype.polyline=function(t,e){var r=this;if(Array.isArray(t))return t.forEach(function(t){r.polyline(t,e)}),this;var i=XMLNode("polyline");return this.currentContext().appendChild(i),this.setAttributes(i,extend({points:t},e)),this},SVG.prototype.group=function(t){var e=XMLNode("g");return this.currentContext().appendChild(e),this.context.push(e),this.setAttributes(e,extend({},t)),this};