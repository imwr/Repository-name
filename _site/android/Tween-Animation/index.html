<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Android Tween Animation</title>
    <meta name="description"
          content="Tween Animation">

    <!-- Begin Jekyll SEO tag v2.0.0 -->
<meta property="og:title" content="Android Tween Animation" />
<meta name="description" content="Tween Animation" />
<meta property="og:description" content="Tween Animation" />
<link rel="canonical" href="http://localhost:4000/android/Tween-Animation/" />
<meta property="og:url" content="http://localhost:4000/android/Tween-Animation/" />
<meta property="og:site_name" content="汀汀涔涔" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-06-21T00:00:00+08:00" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Android Tween Animation",
    "datePublished": "2015-06-21T00:00:00+08:00",
    "description": "Tween Animation",
    "url": "http://localhost:4000/android/Tween-Animation/"
  }
</script>
<!-- End Jekyll SEO tag -->

    <link rel="canonical" href="http://localhost:4000/android/Tween-Animation/">
    <link rel="alternate" type="application/rss+xml" title="汀汀涔涔" href="http://localhost:4000/feed.xml">

    <script type="text/javascript" src="/components/jquery/jquery.min.js"></script>

    <!-- Third-Party CSS -->
    <link rel="stylesheet" href="/components/bootstrap/css/bootstrap.min.css">

    <!-- My CSS -->
    <link rel="stylesheet" href="/assets/css/common.css">

    <!-- CSS set in page -->
    

    <!-- CSS set in layout -->
    
    <link rel="stylesheet" href="/assets/css/sidebar-post-nav.css">
    

    <script type="text/javascript" src="/components/bootstrap/js/bootstrap.min.js"></script>

</head>


    <body>

    <header class="site-header">
    <div class="container">
        <a id="site-header-brand" href="/" title="汀汀涔涔">
            <span class="octicon octicon-mark-github"></span> 汀汀涔涔
        </a>
        <nav class="site-header-nav" role="navigation">
            
            <a href="/"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Home">
                Home
            </a>
            
            <a href="/open-source"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Open-Source">
                Open-Source
            </a>
            
            <a href="/blog"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Blog">
                Blog
            </a>
            
            <a href="/tags"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Tags">
                Tags
            </a>
            
            <a href="/categories"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Categories">
                Categories
            </a>
            
            <a href="/about"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="About">
                About
            </a>
            
        </nav>
    </div>
</header>


        <div class="content">
            <section class="jumbotron geopattern" data-pattern-id="Android Tween Animation">
    <div class="container">
        <div id="jumbotron-meta-info">
            <h1>Android Tween Animation</h1>
            <span class="meta-info">
                
                
                <span class="octicon octicon-calendar"></span> 2015/06/21
                
                 |
                 Posted in android
                
                 |
                
                  <a href="/tags#android" class="post-tag">
                      <span class="glyphicon glyphicon-tag small"></span> android
                  </a>
                
                
            </span>
        </div>
    </div>
</section>
<script>
    $(document).ready(function(){

        $('.geopattern').each(function(){
            $(this).geopattern($(this).data('pattern-id'));
        });

    });
</script>
<article class="post container" itemscope itemtype="http://schema.org/BlogPosting">

    <div class="row">

        <div class="col-md-8 markdown-body">

            <h2 id="tween-animation">Tween Animation</h2>

<p>Tween Animation is one kind of animation that we only need to set the start and the end. It will supply the lack between the start and the end. It is why we called <strong>tween</strong> here.</p>

<p>We have four kinds tween animation: Alpha, Rotate, Translate, Scale.</p>

<ol>
  <li>Tween animation could be set in both code and xml.</li>
  <li>By <strong>AnimationSet</strong>, we could mix these animations together.</li>
  <li>By <strong>AnimationUtils.loadAnimation</strong>, we could load these animations defined in xml.</li>
  <li>By <strong>Animation.AnimationListener</strong>, we could add listner to listen to changes of animations.</li>
</ol>

<h3 id="alphaanimation">AlphaAnimation</h3>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">AlphaAnimation</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AlphaAnimation</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span> <span class="c1">// From 0 to 1</span>
<span class="n">a</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span> <span class="c1">// 1s</span>
<span class="n">View</span><span class="o">.</span><span class="na">startAnimation</span><span class="o">(</span><span class="n">a</span><span class="o">);</span></code></pre></figure>

<p>Tween animation could also be set in xml. It needs to create firstly a xml file in <strong>/res/anim</strong> folder: animation_alpha.xml.</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;alpha</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
<span class="na">android:fromAlpha=</span><span class="s">"0"</span>
<span class="na">android:toAlpha=</span><span class="s">"1"</span>
<span class="na">android:duration=</span><span class="s">"1000"</span>

<span class="err">&lt;/alpha</span><span class="nt">&gt;</span></code></pre></figure>

<p>Then in the code, we could load one animation its file id.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">View</span><span class="o">.</span><span class="na">startAnimation</span><span class="o">(</span><span class="n">AnimationUtils</span><span class="o">.</span><span class="na">loadAnimation</span><span class="o">(</span><span class="n">getActivity</span><span class="o">(),</span> <span class="n">R</span><span class="o">.</span><span class="na">anim</span><span class="o">.</span><span class="na">animation_alpha</span><span class="o">);</span></code></pre></figure>

<h3 id="rotateanimation">RotateAnimation</h3>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// From 0 to 360 degree. Rotates around the top left point</span>
<span class="n">RotateAnimation</span> <span class="n">ra1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RotateAnimation</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">360</span><span class="o">);</span>
<span class="c1">// Rotates around point (100, 50)</span>
<span class="n">RotateAnimation</span> <span class="n">ra2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RotateAnimation</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">360</span><span class="o">,</span> <span class="mi">100</span><span class="o">,</span> <span class="mi">50</span><span class="o">);</span>
<span class="c1">// Rotates around UI's own center points</span>
<span class="n">RotateAnimation</span> <span class="n">ra3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RotateAnimation</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">360</span><span class="o">,</span> <span class="n">Animation</span><span class="o">.</span><span class="na">RELATIVE_TO_SELF</span><span class="o">,</span> <span class="mf">0.5f</span><span class="o">,</span> <span class="n">Animation</span><span class="o">.</span><span class="na">RELATIVE_TO_SELF</span><span class="o">,</span> <span class="mf">0.5f</span><span class="o">);</span></code></pre></figure>

<p>By xml:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;rotate</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">android:fromDegrees=</span><span class="s">"0"</span>
    <span class="na">android:toDegrees=</span><span class="s">"360"</span>
    <span class="na">android:duration=</span><span class="s">"1000"</span>
    <span class="na">android:pivotX=</span><span class="s">"50%"</span>
    <span class="na">android:pivotY=</span><span class="s">"50%"</span> <span class="nt">&gt;</span>
    <span class="c">&lt;!-- 50 means pixels, 50% means UI's own 50% position --&gt;</span>

<span class="nt">&lt;/rotate&gt;</span></code></pre></figure>

<h3 id="translateanimation">TranslateAnimation</h3>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// X moves from 0 to right 200 pixels </span>
<span class="c1">// Y moves from 0 down 200 pixels </span>
<span class="k">new</span> <span class="nf">TranslateAnimation</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">200</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">200</span><span class="o">);</span></code></pre></figure>

<p>By xml:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;translate</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">android:fromXDelta=</span><span class="s">"0"</span>
    <span class="na">android:toXDelta=</span><span class="s">"200"</span>
    <span class="na">android:fromYDelta=</span><span class="s">"0"</span>
    <span class="na">android:toYDelta=</span><span class="s">"200"</span>
    <span class="na">android:duration=</span><span class="s">"1000"</span> <span class="nt">&gt;</span>

<span class="nt">&lt;/translate&gt;</span></code></pre></figure>

<h3 id="scaleanimation">ScaleAnimation</h3>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// From (100, 50) to scale. By default scale from Top Left</span>
<span class="k">new</span> <span class="nf">ScaleAnimation</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">100</span><span class="o">,</span> <span class="mi">50</span><span class="o">);</span>
<span class="c1">// From UI's own center to scale</span>
<span class="k">new</span> <span class="nf">ScaleAnimation</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="n">Animation</span><span class="o">.</span><span class="na">RELATIVE_TO_SELF</span><span class="o">,</span> <span class="mf">0.5f</span><span class="o">,</span> <span class="n">Animation</span><span class="o">.</span><span class="na">RELATIVE_TO_SELF</span><span class="o">,</span> <span class="mf">0.5f</span><span class="o">);</span></code></pre></figure>

<p>By xml:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;scale</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">android:fromXScale=</span><span class="s">"0"</span>
    <span class="na">android:toXScale=</span><span class="s">"1"</span>
    <span class="na">android:fromYScale=</span><span class="s">"0"</span>
    <span class="na">android:toYScale=</span><span class="s">"1"</span>
    <span class="na">android:duration=</span><span class="s">"1000"</span>
    <span class="na">android:pivotX=</span><span class="s">"50%"</span>
    <span class="na">android:pivotY=</span><span class="s">"50%"</span> <span class="nt">&gt;</span>
    <span class="c">&lt;!-- 50 means pixels, 50% means UI's own 50% position --&gt;</span>

<span class="nt">&lt;/scale&gt;</span></code></pre></figure>

<h3 id="how-to-mix-these-animations">How to mix these animations</h3>

<p>By adding every animation in <strong>AnimationSet</strong>. We could mix animations together.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">AlphaAnimation</span> <span class="n">aa</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AlphaAnimation</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
<span class="n">aa</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
<span class="n">TranslateAnimation</span> <span class="n">ta</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TranslateAnimation</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="mi">200</span><span class="o">,</span> <span class="mi">0</span><span class="o">);</span>
<span class="n">ta</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>

<span class="n">as</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AnimationSet</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> 
<span class="n">as</span><span class="o">.</span><span class="na">setDuration</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
<span class="n">as</span><span class="o">.</span><span class="na">addAnimation</span><span class="o">(</span><span class="n">aa</span><span class="o">);</span> <span class="c1">// Add Alpha Animation</span>
<span class="n">as</span><span class="o">.</span><span class="na">addAnimation</span><span class="o">(</span><span class="n">ta</span><span class="o">);</span> <span class="c1">// Add TranslateAnimation</span></code></pre></figure>

<p>By xml:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;set</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">android:duration=</span><span class="s">"1000"</span>
    <span class="na">android:shareInterpolator=</span><span class="s">"true"</span> <span class="nt">&gt;</span>

    <span class="nt">&lt;alpha</span>
        <span class="na">android:fromAlpha=</span><span class="s">"0"</span>
        <span class="na">android:toAlpha=</span><span class="s">"1"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;translate</span>
        <span class="na">android:fromXDelta=</span><span class="s">"200"</span>
        <span class="na">android:fromYDelta=</span><span class="s">"200"</span>
        <span class="na">android:toXDelta=</span><span class="s">"0"</span>
        <span class="na">android:toYDelta=</span><span class="s">"0"</span> <span class="nt">/&gt;</span>

<span class="nt">&lt;/set&gt;</span></code></pre></figure>

<h3 id="set-listener">Set Listener</h3>

<p>We could listner to start/repeat/end of an animation</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Animation</span> <span class="n">a</span> <span class="o">=</span> <span class="n">AnimationUtils</span><span class="o">.</span><span class="na">loadAnimation</span><span class="o">(</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="n">R</span><span class="o">.</span><span class="na">anim</span><span class="o">.</span><span class="na">anim</span><span class="o">);</span>
<span class="n">a</span><span class="o">.</span><span class="na">setAnimationListener</span><span class="o">(</span><span class="k">new</span> <span class="n">Animation</span><span class="o">.</span><span class="na">AnimationListener</span><span class="o">()</span> <span class="o">{</span>
	
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAnimationStart</span><span class="o">(</span><span class="n">Animation</span> <span class="n">animation</span><span class="o">)</span> <span class="o">{}</span>
					
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAnimationRepeat</span><span class="o">(</span><span class="n">Animation</span> <span class="n">animation</span><span class="o">)</span> <span class="o">{}</span>
					
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onAnimationEnd</span><span class="o">(</span><span class="n">Animation</span> <span class="n">animation</span><span class="o">)</span> <span class="o">{}</span>

<span class="o">);</span>		</code></pre></figure>



            <h3>Related Posts</h3>

            
            <a href="/android/Android-DragViewHelper/">Android DragViewHelper</a><br/>
            
            <a href="/android/Android-GestureDetector/">Android GestureDetector</a><br/>
            
            <a href="/android/Android-Shape/">Android Shape Drawable</a><br/>
            
            <a href="/android/Android-ListActivity/">Android ListActivity</a><br/>
            
            <a href="/android/Android-Fragment/">Android Fragment</a><br/>
            
            <a href="/android/Android-Toolbar/">Android Toolbar</a><br/>
            
            <a href="/css/CSS-Animation/">CSS Animation</a><br/>
            
            <a href="/mysql/MySQL-Index/">MySQL Index</a><br/>
            
            <a href="/mybatis/MyBatis-With-Spring/">MyBatis with Spring</a><br/>
            
            <a href="/mybatis/MyBatis-Advanced/">MyBatis association collection and discriminator</a><br/>
            
            <hr/>
            <div class="post-div">
                
                <a class="prev-link" href="/android/Toast/"><span>&#8592;&#09;previous</span></a>
                
                <span class="nav-hint-mob"> You can also navigate with left [or] right arrows </span>
                
                <a class="next-link" href="/android/Parcelable-Interface/"><span>next&#09;&#8594;</span></a>
                
            </div>
            <!-- Comments -->
            <div class="comments">
    <div id="disqus_thread"></div>
    <script>
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');

            s.src = '//tt-cc.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
</div>

        </div>

        <div class="col-md-4">
            <div id="search">
    <form action="/search" method="get" class="input-group">
        <input type="text" id="search-query" class="form-control search-query" name="q" placeholder="Search"
               autocomplete="off">
        <span class="input-group-btn">
            <button class="btn btn-default" type="button">
                <span class="glyphicon glyphicon-search"></span>
            </button>
        </span>
    </form>
</div>

<section id="search-results" style="display:none">
    <header class="page-header">
        <h2>Search results</h2>
    </header>

    <div class="entries">
    </div>
</section>


<script id="search-results-template" type="text/mustache">
  {{#entries}}
    <article>
      <h6>
        {{#date}}<small><time datetime="{{pubdate}}" pubdate>{{displaydate}}</time></small>{{/date}}
        <a href="{{url}}">{{title}}</a>
      </h6>
      {{#is_post}}
      <ul>
        {{#tags}}<li>{{.}} </li>{{/tags}}
      </ul>
      {{/is_post}}
    </article>
  {{/entries}}
</script>



<script src="/components/search-jekyll/search.min.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
    $(function () {
        $('#search-query').lunrSearch({
            index: '/components/search-jekyll/index.json',
            results: '#search-results',
            entries: '.entries',
            template: '#search-results-template'
        });
    });
</script>

            <h3>Post Directory</h3>
<div id="post-directory-module">
<section class="post-directory">
    <!-- Links that trigger the jumping -->
    <!-- Added by javascript below -->
    <dl></dl>
</section>
</div>

<script type="text/javascript">

    $(document).ready(function(){
        $( "article h2" ).each(function( index ) {
            $(".post-directory dl").append("<dt><a class=\"jumper\" hre=#" +
                    $(this).attr("id")
                    + ">"
                    + $(this).text()
                    + "</a></dt>");

            var children = $(this).nextUntil("h2", "h3")

            children.each(function( index ) {
                $(".post-directory dl").append("<dd><a class=\"jumper\" hre=#" +
                        $(this).attr("id")
                        + ">"
                        + "&nbsp;&nbsp;- " + $(this).text()
                        + "</a></dd>");
            });
        });

        var fixmeTop = $('#post-directory-module').offset().top - 100;       // get initial position of the element

        $(window).scroll(function() {                  // assign scroll event listener

            var currentScroll = $(window).scrollTop(); // get current position

            if (currentScroll >= fixmeTop) {           // apply position: fixed if you
                $('#post-directory-module').css({      // scroll to that element or below it
                    top: '100px',
                    position: 'fixed',
                    width: 'inherit'
                });
            } else {                                   // apply position: static
                $('#post-directory-module').css({      // if you scroll above it
                    position: 'inherit',
                    width: 'inherit'
                });
            }

        });

        $("a.jumper").on("click", function( e ) {

            e.preventDefault();

            $("body, html").animate({
                scrollTop: ($( $(this).attr('hre') ).offset().top - 100)
            }, 600);

        });
    });

</script>
        </div>

    </div>

</article>

        </div>

    <footer class="container">

    <div class="site-footer">

        <div class="copyright pull-left">
            <!-- 请不要更改这一行 方便其他人知道模板的来源 谢谢 -->
            <!-- Please keep this line to let others know where this theme comes from. Thank you :D -->
            Power by <a href="https://github.com/DONGChuan/Yummy-Jekyll">Yummy Jekyll</a>
        </div>

        <a href="https://github.com/DONGChuan" target="_blank" aria-label="view source code">
            <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
        </a>

        <div class="pull-right">
            <a href="javascript:window.scrollTo(0,0)">TOP</a>
        </div>

    </div>

    <!-- Third-Party JS -->
    <script type="text/javascript" src="/components/geopattern/js/geopattern.min.js"></script>

    <!-- My JS -->
    <script type="text/javascript" src="/assets/js/script.js"></script>

    

    <!-- Google Analytics -->
    <div style="display:none">
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function () {
                            (i[r].q = i[r].q || []).push(arguments)
                        }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                        m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
            ga('create', 'UA-79713062-1', 'auto');
            ga('send', 'pageview');
        </script>
    </div>

</footer>


    </body>

</html>
