<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Spring Beans Autowire</title>
    <meta name="description"
          content="This is quick note after learning Spring autowire.">

    <!-- Begin Jekyll SEO tag v2.0.0 -->
<meta property="og:title" content="Spring Beans Autowire" />
<meta name="description" content="This is quick note after learning Spring autowire." />
<meta property="og:description" content="This is quick note after learning Spring autowire." />
<link rel="canonical" href="http://localhost:4000/spring/Spring-Beans-Autowire/" />
<meta property="og:url" content="http://localhost:4000/spring/Spring-Beans-Autowire/" />
<meta property="og:site_name" content="汀汀涔涔" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-02-25T00:00:00+08:00" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Spring Beans Autowire",
    "datePublished": "2016-02-25T00:00:00+08:00",
    "description": "This is quick note after learning Spring autowire.",
    "url": "http://localhost:4000/spring/Spring-Beans-Autowire/"
  }
</script>
<!-- End Jekyll SEO tag -->

    <link rel="canonical" href="http://localhost:4000/spring/Spring-Beans-Autowire/">
    <link rel="alternate" type="application/rss+xml" title="汀汀涔涔" href="http://localhost:4000/feed.xml">

    <script type="text/javascript" src="/components/jquery/jquery.min.js"></script>

    <!-- Third-Party CSS -->
    <link rel="stylesheet" href="/components/bootstrap/css/bootstrap.min.css">

    <!-- My CSS -->
    <link rel="stylesheet" href="/assets/css/common.css">

    <!-- CSS set in page -->
    

    <!-- CSS set in layout -->
    
    <link rel="stylesheet" href="/assets/css/sidebar-post-nav.css">
    

    <script type="text/javascript" src="/components/bootstrap/js/bootstrap.min.js"></script>

</head>


    <body>

    <header class="site-header">
    <div class="container">
        <a id="site-header-brand" href="/" title="汀汀涔涔">
            <span class="octicon octicon-mark-github"></span> 汀汀涔涔
        </a>
        <nav class="site-header-nav" role="navigation">
            
            <a href="/"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Home">
                Home
            </a>
            
            <a href="/open-source"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Open-Source">
                Open-Source
            </a>
            
            <a href="/blog"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Blog">
                Blog
            </a>
            
            <a href="/tags"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Tags">
                Tags
            </a>
            
            <a href="/categories"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Categories">
                Categories
            </a>
            
            <a href="/about"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="About">
                About
            </a>
            
        </nav>
    </div>
</header>


        <div class="content">
            <section class="jumbotron geopattern" data-pattern-id="Spring Beans Autowire">
    <div class="container">
        <div id="jumbotron-meta-info">
            <h1>Spring Beans Autowire</h1>
            <span class="meta-info">
                
                
                <span class="octicon octicon-calendar"></span> 2016/02/25
                
                 |
                 Posted in Spring
                
                 |
                
                  <a href="/tags#spring" class="post-tag">
                      <span class="glyphicon glyphicon-tag small"></span> spring
                  </a>
                
                
            </span>
        </div>
    </div>
</section>
<script>
    $(document).ready(function(){

        $('.geopattern').each(function(){
            $(this).geopattern($(this).data('pattern-id'));
        });

    });
</script>
<article class="post container" itemscope itemtype="http://schema.org/BlogPosting">

    <div class="row">

        <div class="col-md-8 markdown-body">

            <p>This is quick note after learning Spring autowire.</p>

<h2 id="autowire">Autowire</h2>

<p>Instead of using <code class="highlighter-rouge">&lt;constructor-arg&gt;</code> and <code class="highlighter-rouge">&lt;property&gt;</code> elements in XML configuration file to declare relationships between beans. We could using <strong>autowire</strong> which <strong>helps cut down on the amount of XML configuration</strong> for a big Spring based application. But for many large applications, it is also discouraged to use autowiring because <strong>it removes the transparency and the structure from collaborating classes</strong>.</p>

<p>There are mainly four types:</p>

<ul>
  <li>byName</li>
  <li>byType</li>
  <li>construtor</li>
  <li>autodetect</li>
</ul>

<h3 id="byname">byName</h3>

<p><strong>Autowiring by property name</strong>. Spring container looks at the properties of the beans on which autowire attribute is set to byName in the XML configuration file. It then tries to match and wire its properties with the beans defined by the same names in the configuration file.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>  

    <span class="kd">private</span> <span class="n">TestBean</span> <span class="n">testBean</span><span class="o">;</span> 
    <span class="c1">// Autowire by name 'testBean', so the bean id should be testBean. </span>
    <span class="c1">// But in fact, it searches by setter name setTestBean() removing 'set' </span>
    <span class="c1">// prefix and lowercase the first character, so 'testBean'</span>
      
    <span class="c1">// Getter and setter</span>
<span class="o">}</span></code></pre></figure>

<p>Then in XML configuration, spring container finds a bean with id <code class="highlighter-rouge">testBean</code>.</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"testBean"</span> <span class="na">class=</span><span class="s">"com.dong.TestBean"</span><span class="nt">/&gt;</span>  
<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"test"</span> <span class="na">class=</span><span class="s">"com.dong.test"</span> <span class="na">autowire=</span><span class="s">"byName"</span><span class="nt">/&gt;</span></code></pre></figure>

<p>We could in the mean time <strong>using <code class="highlighter-rouge">&lt;propery ref='xxx' ...</code> to override the value from autowiring by name</strong>.</p>

<h3 id="bytype">byType</h3>

<p><strong>Autowiring by property datatype</strong>. Spring container looks at the properties of the beans on which autowire attribute is set to byType in the XML configuration file. It then tries to match and wire a property if its type matches with exactly one of the beans name in configuration file. <strong>If more than one such beans exists, a fatal exception is thrown.</strong></p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>  

    <span class="kd">private</span> <span class="n">TestBean</span> <span class="n">testBean</span><span class="o">;</span> 
    <span class="c1">// Autowire by type, so spring container searches type 'TestBean'. </span>
    <span class="c1">// But in fact, it searches in setTestBean(TestBean testBean) to </span>
    <span class="c1">// find 'TestBean' datatype.</span>
      
    <span class="c1">// Getter and setter</span>
<span class="o">}</span></code></pre></figure>

<p>Then in XML configuration, spring container finds a bean with type <code class="highlighter-rouge">TestBean</code>.</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"testBean"</span> <span class="na">class=</span><span class="s">"com.dong.TestBean"</span><span class="nt">/&gt;</span>  
<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"test"</span> <span class="na">class=</span><span class="s">"com.dong.test"</span> <span class="na">autowire=</span><span class="s">"byType"</span><span class="nt">/&gt;</span>  </code></pre></figure>

<p>We could in the mean time <strong>using <code class="highlighter-rouge">&lt;propery ref='xxx' ...</code> to override the value from autowiring by type</strong>.</p>

<h3 id="construtor">construtor</h3>

<p><strong>Similar as byType, but type applies to constructor arguments</strong>. If there is not exactly one bean of the constructor argument type in the container, a fatal error is raised.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>  

    <span class="kd">private</span> <span class="n">TestBean</span> <span class="n">testBean</span><span class="o">;</span> 

    <span class="kd">public</span> <span class="nf">Test</span><span class="o">(</span><span class="n">TestBean</span> <span class="n">testBean</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// do stuff</span>
    <span class="o">}</span> 
    <span class="c1">// Autowire by constructor, so spring container searches type 'TestBean' in constructor</span>

    <span class="c1">// Getter and setter</span>
<span class="o">}</span></code></pre></figure>

<p>Then in XML configuration, spring container finds a bean with id <code class="highlighter-rouge">testBean</code>.</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"testBean"</span> <span class="na">class=</span><span class="s">"com.dong.TestBean"</span><span class="nt">/&gt;</span>  
<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"test"</span> <span class="na">class=</span><span class="s">"com.dong.test"</span> <span class="na">autowire=</span><span class="s">"constructor"</span><span class="nt">/&gt;</span></code></pre></figure>

<p>Unlike byType and byName using <code class="highlighter-rouge">&lt;propery ref='xxx' ...</code> to override, <code class="highlighter-rouge">&lt;constructor-args ..&gt;</code> can not mix with autowire</p>

<h3 id="autodetect">autodetect</h3>

<p>Spring automatically detects which type to use. <strong>It firstly tries to autowire by constructor, if it does not work, Spring tries to autowire by byType.</strong></p>

<h2 id="autowire-mixed-with-ref">autowire mixed with ref</h2>

<p><strong>If <code class="highlighter-rouge">autowire</code> mixed with <code class="highlighter-rouge">ref</code>, <code class="highlighter-rouge">ref</code> will override <code class="highlighter-rouge">autowire</code></strong></p>

<h2 id="default-autowire">default-autowire</h2>

<p>We could use <code class="highlighter-rouge">default-autowire</code> on <code class="highlighter-rouge">&lt;beans&gt;&lt;/beans&gt;</code> instead of repeating autowire type setting on each bean:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;beans</span> <span class="na">default-autowire=</span><span class="s">"byType"</span> <span class="err">.....</span><span class="nt">&gt;</span> </code></pre></figure>

<p>For the beans including in <code class="highlighter-rouge">&lt;beans&gt;&lt;/beans&gt;</code> , we could ovrride it by setting autowire type explicitly:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;beans</span> <span class="na">default-autowire=</span><span class="s">"byType"</span> <span class="err">.....</span><span class="nt">&gt;</span> 

	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"testBean"</span> <span class="na">class=</span><span class="s">"com.dong.TestBean"</span><span class="nt">/&gt;</span>  
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"test"</span> <span class="na">class=</span><span class="s">"com.dong.test"</span> <span class="na">autowire=</span><span class="s">"constructor"</span><span class="nt">/&gt;</span>

	// Other beans

<span class="nt">&lt;/beans&gt;</span></code></pre></figure>

<h2 id="autowire-candidate">autowire-candidate</h2>

<p>We could use <code class="highlighter-rouge">autowire-candidate</code> to <strong>exclude a bean from autowiring</strong>. By default, all the beans have <code class="highlighter-rouge">autowire-candidate</code> with true value implicitly. So we need to set it to false to exclude this bean.</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;beans</span> <span class="na">default-autowire=</span><span class="s">"byType"</span> <span class="err">.....</span><span class="nt">&gt;</span> 

	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"testBean"</span> <span class="na">class=</span><span class="s">"com.dong.TestBean"</span><span class="nt">/&gt;</span>
	<span class="c">&lt;!-- Set autowire-candidate to false, so it will never be considered for autowiring--&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"testBadBean"</span> <span class="na">class=</span><span class="s">"com.dong.TestBean"</span> <span class="na">autowire-candidate=</span><span class="s">"false"</span><span class="nt">/&gt;</span>

	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"test"</span> <span class="na">class=</span><span class="s">"com.dong.test"</span> <span class="na">autowire=</span><span class="s">"constructor"</span><span class="nt">/&gt;</span>

	// Other beans

<span class="nt">&lt;/beans&gt;</span></code></pre></figure>

<h2 id="ref">Ref</h2>

<p><a href="http://www.tutorialspoint.com/spring/spring_beans_autowiring.htm">Tutorialspoint - Autowiring</a>
<a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-factory-autowire">Spring Reference</a>
<a href="https://examples.javacodegeeks.com/enterprise-java/spring/beans-spring/spring-autowire-example/">Javacodegeeks - spring-autowire-example</a></p>



            <h3>Related Posts</h3>

            
            <a href="/android/Android-DragViewHelper/">Android DragViewHelper</a><br/>
            
            <a href="/android/Android-GestureDetector/">Android GestureDetector</a><br/>
            
            <a href="/android/Android-Shape/">Android Shape Drawable</a><br/>
            
            <a href="/android/Android-ListActivity/">Android ListActivity</a><br/>
            
            <a href="/android/Android-Fragment/">Android Fragment</a><br/>
            
            <a href="/android/Android-Toolbar/">Android Toolbar</a><br/>
            
            <a href="/css/CSS-Animation/">CSS Animation</a><br/>
            
            <a href="/mysql/MySQL-Index/">MySQL Index</a><br/>
            
            <a href="/mybatis/MyBatis-With-Spring/">MyBatis with Spring</a><br/>
            
            <a href="/mybatis/MyBatis-Advanced/">MyBatis association collection and discriminator</a><br/>
            
            <hr/>
            <div class="post-div">
                
                <a class="prev-link" href="/hibernate/Hibernate-Session/"><span>&#8592;&#09;previous</span></a>
                
                <span class="nav-hint-mob"> You can also navigate with left [or] right arrows </span>
                
                <a class="next-link" href="/spring/Spring-SpEL/"><span>next&#09;&#8594;</span></a>
                
            </div>
            <!-- Comments -->
            <div class="comments">
    <div id="disqus_thread"></div>
    <script>
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');

            s.src = '//tt-cc.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
</div>

        </div>

        <div class="col-md-4">
            <div id="search">
    <form action="/search" method="get" class="input-group">
        <input type="text" id="search-query" class="form-control search-query" name="q" placeholder="Search"
               autocomplete="off">
        <span class="input-group-btn">
            <button class="btn btn-default" type="button">
                <span class="glyphicon glyphicon-search"></span>
            </button>
        </span>
    </form>
</div>

<section id="search-results" style="display:none">
    <header class="page-header">
        <h2>Search results</h2>
    </header>

    <div class="entries">
    </div>
</section>


<script id="search-results-template" type="text/mustache">
  {{#entries}}
    <article>
      <h6>
        {{#date}}<small><time datetime="{{pubdate}}" pubdate>{{displaydate}}</time></small>{{/date}}
        <a href="{{url}}">{{title}}</a>
      </h6>
      {{#is_post}}
      <ul>
        {{#tags}}<li>{{.}} </li>{{/tags}}
      </ul>
      {{/is_post}}
    </article>
  {{/entries}}
</script>



<script src="/components/search-jekyll/search.min.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
    $(function () {
        $('#search-query').lunrSearch({
            index: '/components/search-jekyll/index.json',
            results: '#search-results',
            entries: '.entries',
            template: '#search-results-template'
        });
    });
</script>

            <h3>Post Directory</h3>
<div id="post-directory-module">
<section class="post-directory">
    <!-- Links that trigger the jumping -->
    <!-- Added by javascript below -->
    <dl></dl>
</section>
</div>

<script type="text/javascript">

    $(document).ready(function(){
        $( "article h2" ).each(function( index ) {
            $(".post-directory dl").append("<dt><a class=\"jumper\" hre=#" +
                    $(this).attr("id")
                    + ">"
                    + $(this).text()
                    + "</a></dt>");

            var children = $(this).nextUntil("h2", "h3")

            children.each(function( index ) {
                $(".post-directory dl").append("<dd><a class=\"jumper\" hre=#" +
                        $(this).attr("id")
                        + ">"
                        + "&nbsp;&nbsp;- " + $(this).text()
                        + "</a></dd>");
            });
        });

        var fixmeTop = $('#post-directory-module').offset().top - 100;       // get initial position of the element

        $(window).scroll(function() {                  // assign scroll event listener

            var currentScroll = $(window).scrollTop(); // get current position

            if (currentScroll >= fixmeTop) {           // apply position: fixed if you
                $('#post-directory-module').css({      // scroll to that element or below it
                    top: '100px',
                    position: 'fixed',
                    width: 'inherit'
                });
            } else {                                   // apply position: static
                $('#post-directory-module').css({      // if you scroll above it
                    position: 'inherit',
                    width: 'inherit'
                });
            }

        });

        $("a.jumper").on("click", function( e ) {

            e.preventDefault();

            $("body, html").animate({
                scrollTop: ($( $(this).attr('hre') ).offset().top - 100)
            }, 600);

        });
    });

</script>
        </div>

    </div>

</article>

        </div>

    <footer class="container">

    <div class="site-footer">

        <div class="copyright pull-left">
            <!-- 请不要更改这一行 方便其他人知道模板的来源 谢谢 -->
            <!-- Please keep this line to let others know where this theme comes from. Thank you :D -->
            Power by <a href="https://github.com/DONGChuan/Yummy-Jekyll">Yummy Jekyll</a>
        </div>

        <a href="https://github.com/DONGChuan" target="_blank" aria-label="view source code">
            <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
        </a>

        <div class="pull-right">
            <a href="javascript:window.scrollTo(0,0)">TOP</a>
        </div>

    </div>

    <!-- Third-Party JS -->
    <script type="text/javascript" src="/components/geopattern/js/geopattern.min.js"></script>

    <!-- My JS -->
    <script type="text/javascript" src="/assets/js/script.js"></script>

    

    <!-- Google Analytics -->
    <div style="display:none">
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function () {
                            (i[r].q = i[r].q || []).push(arguments)
                        }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                        m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
            ga('create', 'UA-79713062-1', 'auto');
            ga('send', 'pageview');
        </script>
    </div>

</footer>


    </body>

</html>
