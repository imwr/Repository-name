<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Singleton Pattern</title>
    <meta name="description"
          content="Singleton">

    <!-- Begin Jekyll SEO tag v2.0.0 -->
<meta property="og:title" content="Singleton Pattern" />
<meta name="description" content="Singleton" />
<meta property="og:description" content="Singleton" />
<link rel="canonical" href="http://localhost:4000/design%20pattern/Singleton/" />
<meta property="og:url" content="http://localhost:4000/design%20pattern/Singleton/" />
<meta property="og:site_name" content="汀汀涔涔" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-09-13T00:00:00+08:00" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Singleton Pattern",
    "datePublished": "2015-09-13T00:00:00+08:00",
    "description": "Singleton",
    "url": "http://localhost:4000/design%20pattern/Singleton/"
  }
</script>
<!-- End Jekyll SEO tag -->

    <link rel="canonical" href="http://localhost:4000/design%20pattern/Singleton/">
    <link rel="alternate" type="application/rss+xml" title="汀汀涔涔" href="http://localhost:4000/feed.xml">

    <script type="text/javascript" src="/components/jquery/jquery.min.js"></script>

    <!-- Third-Party CSS -->
    <link rel="stylesheet" href="/components/bootstrap/css/bootstrap.min.css">

    <!-- My CSS -->
    <link rel="stylesheet" href="/assets/css/common.css">

    <!-- CSS set in page -->
    

    <!-- CSS set in layout -->
    
    <link rel="stylesheet" href="/assets/css/sidebar-post-nav.css">
    

    <script type="text/javascript" src="/components/bootstrap/js/bootstrap.min.js"></script>

</head>


    <body>

    <header class="site-header">
    <div class="container">
        <a id="site-header-brand" href="/" title="汀汀涔涔">
            <span class="octicon octicon-mark-github"></span> 汀汀涔涔
        </a>
        <nav class="site-header-nav" role="navigation">
            
            <a href="/"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Home">
                Home
            </a>
            
            <a href="/open-source"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Open-Source">
                Open-Source
            </a>
            
            <a href="/blog"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Blog">
                Blog
            </a>
            
            <a href="/tags"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Tags">
                Tags
            </a>
            
            <a href="/categories"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="Categories">
                Categories
            </a>
            
            <a href="/about"
               class=" site-header-nav-item hvr-underline-from-center"
               target=""
               title="About">
                About
            </a>
            
        </nav>
    </div>
</header>


        <div class="content">
            <section class="jumbotron geopattern" data-pattern-id="Singleton Pattern">
    <div class="container">
        <div id="jumbotron-meta-info">
            <h1>Singleton Pattern</h1>
            <span class="meta-info">
                
                
                <span class="octicon octicon-calendar"></span> 2015/09/13
                
                 |
                 Posted in design pattern
                
                 |
                
                  <a href="/tags#java" class="post-tag">
                      <span class="glyphicon glyphicon-tag small"></span> java
                  </a>
                
                  <a href="/tags#design-pattern" class="post-tag">
                      <span class="glyphicon glyphicon-tag small"></span> design pattern
                  </a>
                
                
            </span>
        </div>
    </div>
</section>
<script>
    $(document).ready(function(){

        $('.geopattern').each(function(){
            $(this).geopattern($(this).data('pattern-id'));
        });

    });
</script>
<article class="post container" itemscope itemtype="http://schema.org/BlogPosting">

    <div class="row">

        <div class="col-md-8 markdown-body">

            <h2 id="singleton">Singleton</h2>

<p>It ensures <strong>only one instance for a class</strong>. More detail, it involves one class which is responsible to instantiate itself, to make sure it creates only one instance and, in the same time, it provides a global point of access to that instance.</p>

<h2 id="different-implementations">Different implementations</h2>

<p>There are different implementations for singleton to solve different problems. They have some common points</p>

<blockquote>
  <p>Constructor must be private. To ensure that only itself could instantiates itself :P
A static method which should be a global point of access to get the instance</p>
</blockquote>

<h3 id="basic">Basic</h3>

<p>The following is the simplest way:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Singleton</span> <span class="o">{</span>  

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="n">instance</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nf">Singleton</span> <span class="o">(){}</span>
 
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span> 
	    <span class="k">if</span> <span class="o">(</span><span class="n">instance</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>         <span class="c1">// 1</span>
	        <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="o">();</span> <span class="c1">// 2</span>
	    <span class="o">}</span> 
	    <span class="k">return</span> <span class="n">instance</span><span class="o">;</span>                <span class="c1">// 3</span>
    <span class="o">}</span> 
<span class="o">}</span> </code></pre></figure>

<p>It ensures that only creates a Singleton object. Its constructor is <strong>private</strong>, <code class="highlighter-rouge">getInstance ()</code> method creates only one object. <strong>But it is only suitable for single-threaded programs</strong>.</p>

<p>So for multi-thread, ‘synchronized’ key word must be added on <code class="highlighter-rouge">getInstance()</code>. If no this key word, <code class="highlighter-rouge">getInstance()</code> may return two different instances.</p>

<p>Now let’s suppose two threads concurrently call the <code class="highlighter-rouge">getInstance()</code> method in the following order:</p>

<ol>
  <li>Thread 1 calls <code class="highlighter-rouge">getInstance()</code> method and finds instance at // 1 is null.</li>
  <li>Thread 1 enters <code class="highlighter-rouge">if</code> block, but in the implementation of the code line // 2 Thread 2 is preempted.</li>
  <li>Thread 2 calls <code class="highlighter-rouge">getInstance()</code> method and finds instance at // 1 is null.</li>
  <li>Thread 2 enters <code class="highlighter-rouge">if</code> block and creates a new Singleton object.</li>
  <li>Thread 2 returns reference of instance at // 3.</li>
  <li>Thread 2 is preempted by Thread 1.</li>
  <li>Thread 1 starts where it left off and executes // 2, which lead to creation of another instance.</li>
  <li>Thread 1 returns reference of another instance at // 3.</li>
</ol>

<p>So <code class="highlighter-rouge">getInstance()</code> method creates two different instances. By synchronizing the ‘getInstance()’ method so that in the mean time, only one thread is allowed to execute code. Let’s see the next implementation.</p>

<h3 id="thread-safe">Thread safe</h3>

<p>Now with <code class="highlighter-rouge">synchronized</code> key word for thread safety:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Singleton</span> <span class="o">{</span> 

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="n">instance</span><span class="o">;</span>  

    <span class="kd">private</span> <span class="nf">Singleton</span> <span class="o">(){}</span>  

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">synchronized</span> <span class="n">Singleton</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span>  
	    <span class="k">if</span> <span class="o">(</span><span class="n">instance</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>  
	        <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="o">();</span>  
	    <span class="o">}</span>  
	    <span class="k">return</span> <span class="n">instance</span><span class="o">;</span>  
    <span class="o">}</span>  
<span class="o">}</span> </code></pre></figure>

<p>But we should only use this way when <code class="highlighter-rouge">getInstance()</code> is not invoked too many times. Because <code class="highlighter-rouge">synchronized</code> consumes a lot of resources.</p>

<h3 id="eager-initialization">Eager initialization</h3>

<p>It will <strong>create an instance when load a class but before it is used by any thread</strong>. So it means, no need to synchronize the <code class="highlighter-rouge">getInstance()</code> method, meaning all threads will see the same instance and no (expensive) locking is required. But this implementation will always creates an instance. So it is suggested to use when you are 100% sure an instance will be needed. If not, waste resource for sure.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Singleton</span> <span class="o">{</span> 

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="o">();</span>  

    <span class="kd">private</span> <span class="nf">Singleton</span> <span class="o">(){}</span>  

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span>  
    	<span class="k">return</span> <span class="n">instance</span><span class="o">;</span>  
    <span class="o">}</span>  
<span class="o">}</span> </code></pre></figure>

<blockquote>
  <p>You could also add <code class="highlighter-rouge">final</code> keyword on instance which means that the instance cannot be redefined, ensuring that one and only one instance ever exists.</p>
</blockquote>

<h3 id="double-checked-locking">Double-checked locking</h3>

<p>Let’s see firstly:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="nf">getInstance</span><span class="o">()</span>
<span class="o">{</span>
	<span class="k">if</span> <span class="o">(</span><span class="n">instance</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
	    <span class="kd">synchronized</span><span class="o">(</span><span class="n">Singleton</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
	      <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="o">();</span> <span class="c1">// 1</span>
		<span class="o">}</span>
	<span class="o">}</span>

	<span class="k">return</span> <span class="n">instance</span><span class="o">;</span>
<span class="o">}</span></code></pre></figure>

<p>I think this is reasonable, because we only need to do synchronized at // 1. But it has the same thread problem when two threads concurrently call the <code class="highlighter-rouge">getInstance()</code> method. They do the null checking before synchronized. So let’s add another check after <code class="highlighter-rouge">synchronized</code>:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="nf">getInstance</span><span class="o">()</span>
<span class="o">{</span>
 	<span class="k">if</span> <span class="o">(</span><span class="n">instance</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
		<span class="kd">synchronized</span><span class="o">(</span><span class="n">Singleton</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
	     	<span class="k">if</span> <span class="o">(</span><span class="n">instance</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> 
	        	<span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="o">();</span> 
   		<span class="o">}</span>
  	<span class="o">}</span>

  	<span class="k">return</span> <span class="n">instance</span><span class="o">;</span>
<span class="o">}</span></code></pre></figure>

<p>So it’s why it is called <strong>Double-checked locking</strong>. What’s more, in this way, if the first instance is checked not null, synchronized will be skipped which saves resources. But due to <strong>Java platform memory model</strong> problems. It’s not that stable, please check * <a href="http://www.ibm.com/developerworks/library/j-dcl/">Double-checked locking and the Singleton pattern</a> for more details about this discussion.</p>

<p>Here <code class="highlighter-rouge">volatile</code> is suggested to use for jdk &gt; 1.5 for memory problems. Check <a href="http://www.javamex.com/tutorials/synchronization_volatile.shtml">here</a> for more details about this key word.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Singleton</span> <span class="o">{</span> 

    <span class="kd">private</span> <span class="kd">volatile</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="n">singleton</span><span class="o">;</span> 

    <span class="kd">private</span> <span class="nf">Singleton</span> <span class="o">(){}</span> 

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="nf">getSingleton</span><span class="o">()</span> <span class="o">{</span>  
	    <span class="k">if</span> <span class="o">(</span><span class="n">singleton</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>  
	        <span class="kd">synchronized</span> <span class="o">(</span><span class="n">Singleton</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>  
	        <span class="k">if</span> <span class="o">(</span><span class="n">singleton</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>  
	            <span class="n">singleton</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="o">();</span>  
	        <span class="o">}</span>  
	        <span class="o">}</span>  
	    <span class="o">}</span>  
	    <span class="k">return</span> <span class="n">singleton</span><span class="o">;</span>  
    <span class="o">}</span>  
<span class="o">}</span> </code></pre></figure>

<h3 id="lazy-initialization-holder-class">Lazy initialization holder class</h3>

<p>To achieve thread-safe simply, we can use static initializer. For example, like <strong>Eager initialization</strong>. But in this way, it will initialize the object when load class, regardless of whether you need it or not.</p>

<p>So we want to load the class without initializing this object. One possible way is to use the class-level internal class, in this class to create an object instance. As a result, it will not create this instance until this class is used, so we have lazy loading and thread-safe in the mean time.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Singleton</span> <span class="o">{</span>
    
    <span class="kd">private</span> <span class="nf">Singleton</span><span class="o">(){}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">SingletonHolder</span><span class="o">{</span>
        <span class="kd">private</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Singleton</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Singleton</span> <span class="nf">getInstance</span><span class="o">(){</span>
        <span class="k">return</span> <span class="n">SingletonHolder</span><span class="o">.</span><span class="na">instance</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>When <code class="highlighter-rouge">getInstance()</code> is invoked in the first time. It will load <code class="highlighter-rouge">SingletonHolder.instance</code> which leads <code class="highlighter-rouge">SingletonHolder</code> class to be initialized. When <code class="highlighter-rouge">SingletonHolder</code> is initialized, it will initialize its static field. As it’s a static field, so it will only be initialized one time and thread safe :D</p>

<h3 id="enum">Enum</h3>

<p>It is suggested by Josh Bloch, author of «Effective Java». Due to <code class="highlighter-rouge">enum</code>, It can not only avoid the multi-thread synchronization problem, but also automatically supports serialization mechanism and prevent deserialization recreate a new object, also for sure, absolutely prevent multiple instances!</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">enum</span> <span class="n">Singleton</span> <span class="o">{</span>

    <span class="cm">/**
     * Define an element which means an instance of Singleton
     */</span>
    <span class="n">uniqueInstance</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">Singleton</span><span class="o">(){</span>
        <span class="c1">//ToDo</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Let’s see an example:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">enum</span> <span class="n">MySingleton</span> <span class="o">{</span>
    <span class="n">INSTANCE</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nf">MySingleton</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Here"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>An <code class="highlighter-rouge">enum</code> type is a special type of <code class="highlighter-rouge">class</code> type. This enum declaration actually compiles to something like</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">MySingleton</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">MySingleton</span> <span class="n">INSTANCE</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MySingleton</span><span class="o">();</span> 
<span class="o">}</span></code></pre></figure>

<p>When your code first accesses INSTANCE, the class <code class="highlighter-rouge">MySingleton</code> will be loaded and initialized by the JVM. This process initializes the static field above once (lazily).</p>

<p>Test it:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">MySingleton</span><span class="o">.</span><span class="na">INSTANCE</span><span class="o">);</span>
<span class="o">}</span></code></pre></figure>

<p>Output:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Here</span>
<span class="n">INSTANCE</span></code></pre></figure>

<h2 id="ref">Ref</h2>

<ul>
  <li><a href="https://en.wikipedia.org/wiki/Singleton_pattern">Wiki</a></li>
  <li><a href="http://www.ibm.com/developerworks/library/j-dcl/">Double-checked locking and the Singleton pattern</a></li>
  <li><a href="http://www.javamex.com/tutorials/synchronization_volatile.shtml">Volatile</a></li>
  <li><a href="http://www.cnblogs.com/java-my-life/archive/2012/03/31/2425631.html">单例模式</a></li>
  <li><a href="http://stackoverflow.com/questions/26285520/implementing-singleton-with-an-enum-in-java">Stackover - Enum for singleton</a></li>
</ul>



            
            <div>
                <h3>Related Posts</h3>
                <ul>
                    
                    <li><a href="/design%20pattern/Adapter/">Adapter Pattern</a></li>
                    
                    <li><a href="/design%20pattern/Strategy/">Strategy Pattern</a></li>
                    
                    <li><a href="/jdbc/JDBC-Guide/">JDBC Guide</a></li>
                    
                    <li><a href="/java/Java-Annotation/">Java Annotation</a></li>
                    
                    <li><a href="/java/Java-Build-Path-And-Class-Path/">Build Path and Class Path</a></li>
                    
                </ul>
            </div>
            
            <hr/>
            <div class="post-div">
                
                <a class="prev-link" href="/design%20pattern/Strategy/"><span>&#8592;&#09;previous</span></a>
                
                <span class="nav-hint-mob"> You can also navigate with left [or] right arrows </span>
                
                <a class="next-link" href="/java/Java-Annotation/"><span>next&#09;&#8594;</span></a>
                
            </div>
            <!-- Comments -->
            <div class="comments">
    <div id="disqus_thread"></div>
    <script>
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');

            s.src = '//tt-cc.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
</div>

        </div>

        <div class="col-md-4">
            <div id="search">
    <form action="/search" method="get" class="input-group">
        <input type="text" id="search-query" class="form-control search-query" name="q" placeholder="Search"
               autocomplete="off">
        <span class="input-group-btn">
            <button class="btn btn-default" type="button">
                <span class="glyphicon glyphicon-search"></span>
            </button>
        </span>
    </form>
</div>

<section id="search-results" style="display:none">
    <header class="page-header">
        <h2>Search results</h2>
    </header>

    <div class="entries">
    </div>
</section>


<script id="search-results-template" type="text/mustache">
  {{#entries}}
    <article>
      <h6>
        {{#date}}<small><time datetime="{{pubdate}}" pubdate>{{displaydate}}</time></small>{{/date}}
        <a href="{{url}}">{{title}}</a>
      </h6>
      {{#is_post}}
      <ul>
        {{#tags}}<li>{{.}} </li>{{/tags}}
      </ul>
      {{/is_post}}
    </article>
  {{/entries}}
</script>



<script src="/components/search-jekyll/search.min.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
    $(function () {
        $('#search-query').lunrSearch({
            indexUrl: '/components/search-jekyll/index.json',
            results: '#search-results',
            entries: '.entries',
            template: '#search-results-template'
        });
    });
</script>

            <h3>Post Directory</h3>
<div id="post-directory-module">
<section class="post-directory">
    <!-- Links that trigger the jumping -->
    <!-- Added by javascript below -->
    <dl></dl>
</section>
</div>

<script type="text/javascript">

    $(document).ready(function(){
        $( "article h2" ).each(function( index ) {
            $(".post-directory dl").append("<dt><a class=\"jumper\" hre=#" +
                    $(this).attr("id")
                    + ">"
                    + $(this).text()
                    + "</a></dt>");

            var children = $(this).nextUntil("h2", "h3")

            children.each(function( index ) {
                $(".post-directory dl").append("<dd><a class=\"jumper\" hre=#" +
                        $(this).attr("id")
                        + ">"
                        + "&nbsp;&nbsp;- " + $(this).text()
                        + "</a></dd>");
            });
        });

        var fixmeTop = $('#post-directory-module').offset().top - 100;       // get initial position of the element

        $(window).scroll(function() {                  // assign scroll event listener

            var currentScroll = $(window).scrollTop(); // get current position

            if (currentScroll >= fixmeTop) {           // apply position: fixed if you
                $('#post-directory-module').css({      // scroll to that element or below it
                    top: '100px',
                    position: 'fixed',
                    width: 'inherit'
                });
            } else {                                   // apply position: static
                $('#post-directory-module').css({      // if you scroll above it
                    position: 'inherit',
                    width: 'inherit'
                });
            }

        });

        $("a.jumper").on("click", function( e ) {

            e.preventDefault();

            $("body, html").animate({
                scrollTop: ($( $(this).attr('hre') ).offset().top - 100)
            }, 600);

        });
    });

</script>
        </div>

    </div>

</article>

        </div>

    <footer class="container">

    <div class="site-footer">

        <div class="copyright pull-left">
            <!-- 请不要更改这一行 方便其他人知道模板的来源 谢谢 -->
            <!-- Please keep this line to let others know where this theme comes from. Thank you :D -->
            Power by <a href="https://github.com/DONGChuan/Yummy-Jekyll">Yummy Jekyll</a>
        </div>

        <a href="https://github.com/DONGChuan" target="_blank" aria-label="view source code">
            <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
        </a>

        <div class="pull-right">
            <a href="javascript:window.scrollTo(0,0)">TOP</a>
        </div>

    </div>

    <!-- Third-Party JS -->
    <script type="text/javascript" src="/components/geopattern/js/geopattern.min.js"></script>

    <!-- My JS -->
    <script type="text/javascript" src="/assets/js/script.js"></script>

    

    <!-- Google Analytics -->
    <div style="display:none">
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function () {
                            (i[r].q = i[r].q || []).push(arguments)
                        }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                        m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
            ga('create', 'UA-79713062-1', 'auto');
            ga('send', 'pageview');
        </script>
    </div>

</footer>


    </body>

</html>
